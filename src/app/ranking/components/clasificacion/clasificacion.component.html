<div class="grid m-7">
  <div class="col-4">
    <p-card
      header="BULLYBUSTERS"
      subheader="Cazadores de Matones"
      [style]="{ width: '500px' }"
      class="text-center sm:shadow-3 mt-3"
      role="region"
      aria-labelledby="bullybusters-heading"
    >
      <ng-template pTemplate="header">
        <h2 id="bullybusters-heading">BULLYBUSTERS</h2>
        <img alt="Card" src="assets/img/heroes.png"/>
      </ng-template>
      <p>
        ¡Descubre el increíble mundo de los BullyBusters!
        ¿Sabes qué son? Son valientes cazadores de matones, como tú, que protegen a otros compañeros
        y hacen de nuestra comunidad un lugar más seguro y amigable. ¡APÚNTATE!
      </p>
      <ng-template pTemplate="footer">
        <p-button
          label="Ranking"
          icon="pi pi-chart-line"
          (click)="obtenerArrayDeUsuarios()"
          role="button"
          aria-label="Obtener Ranking"
        >
        </p-button>
      </ng-template>
    </p-card>
  </div>
  <div class="col-8" *ngIf="usuarios.length > 0">
    <p-table
      [value]="usuarios"
      [paginator]="true"
      [rows]="6"
      [rowsPerPageOptions]="[6, 12, 18, 24]"
      styleClass="p-datatable-gridlines"
      role="table"
      aria-caption="Ranking de BullyBusters"
    >
      <caption id="ranking-caption">Ranking de BullyBusters</caption>
      <ng-template pTemplate="header">
        <tr>
          <th scope="col">Foto</th>
          <th scope="col">Nombre Completo</th>
          <th scope="col">Correo</th>
          <th scope="col">Edad (años)</th>
          <th scope="col">Curso</th>
          <th scope="col">Puntuación</th>
          <th scope="col">Sumar</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-usuario>
        <tr>
          <td>
            <img class="tamano-img" [src]="usuario.foto" alt="Foto de {{usuario.nombre}} {{usuario.apellido1}} {{usuario.apellido2}}">
          </td>
          <td>{{usuario.nombre + " "+ usuario.apellido1 + " " + usuario.apellido2}}</td>
          <td>{{usuario.email}}</td>
          <td>{{calcularEdad(usuario.fechaNacimiento)}}</td>
          <td>{{usuario.curso}}</td>
          <td>{{usuario.puntuacion}}</td>
          <td>
            <button (click)="agregarPuntos(usuario.id,3)" pButton label="Sumar 3 Puntos"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
